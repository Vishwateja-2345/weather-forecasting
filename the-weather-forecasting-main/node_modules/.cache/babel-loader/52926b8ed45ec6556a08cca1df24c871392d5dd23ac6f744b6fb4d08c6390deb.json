{"ast":null,"code":"import React,{useState}from'react';import{AsyncPaginate}from'react-select-async-paginate';import{fetchCities}from'../../api/OpenWeatherService';import{jsx as _jsx}from\"react/jsx-runtime\";const Search=_ref=>{let{onSearchChange}=_ref;const[searchValue,setSearchValue]=useState(null);const loadOptions=async inputValue=>{const citiesList=await fetchCities(inputValue);return{options:citiesList.data.map(city=>{return{value:\"\".concat(city.latitude,\" \").concat(city.longitude),label:\"\".concat(city.name,\", \").concat(city.countryCode)};})};};const onChangeHandler=enteredData=>{setSearchValue(enteredData);onSearchChange(enteredData);};return/*#__PURE__*/_jsx(AsyncPaginate,{placeholder:\"Search for cities\",debounceTimeout:600,value:searchValue,onChange:onChangeHandler,loadOptions:loadOptions});};export default Search;","map":{"version":3,"names":["React","useState","AsyncPaginate","fetchCities","jsx","_jsx","Search","_ref","onSearchChange","searchValue","setSearchValue","loadOptions","inputValue","citiesList","options","data","map","city","value","concat","latitude","longitude","label","name","countryCode","onChangeHandler","enteredData","placeholder","debounceTimeout","onChange"],"sources":["/workspace/the-weather-forecasting-main/src/components/Search/Search.js"],"sourcesContent":["import React, { useState } from 'react';\nimport { AsyncPaginate } from 'react-select-async-paginate';\nimport { fetchCities } from '../../api/OpenWeatherService';\n\nconst Search = ({ onSearchChange }) => {\n  const [searchValue, setSearchValue] = useState(null);\n\n  const loadOptions = async (inputValue) => {\n    const citiesList = await fetchCities(inputValue);\n\n    return {\n      options: citiesList.data.map((city) => {\n        return {\n          value: `${city.latitude} ${city.longitude}`,\n          label: `${city.name}, ${city.countryCode}`,\n        };\n      }),\n    };\n  };\n\n  const onChangeHandler = (enteredData) => {\n    setSearchValue(enteredData);\n    onSearchChange(enteredData);\n  };\n\n  return (\n    <AsyncPaginate\n      placeholder=\"Search for cities\"\n      debounceTimeout={600}\n      value={searchValue}\n      onChange={onChangeHandler}\n      loadOptions={loadOptions}\n    />\n  );\n};\n\nexport default Search;\n"],"mappings":"AAAA,MAAO,CAAAA,KAAK,EAAIC,QAAQ,KAAQ,OAAO,CACvC,OAASC,aAAa,KAAQ,6BAA6B,CAC3D,OAASC,WAAW,KAAQ,8BAA8B,CAAC,OAAAC,GAAA,IAAAC,IAAA,yBAE3D,KAAM,CAAAC,MAAM,CAAGC,IAAA,EAAwB,IAAvB,CAAEC,cAAe,CAAC,CAAAD,IAAA,CAChC,KAAM,CAACE,WAAW,CAAEC,cAAc,CAAC,CAAGT,QAAQ,CAAC,IAAI,CAAC,CAEpD,KAAM,CAAAU,WAAW,CAAG,KAAO,CAAAC,UAAU,EAAK,CACxC,KAAM,CAAAC,UAAU,CAAG,KAAM,CAAAV,WAAW,CAACS,UAAU,CAAC,CAEhD,MAAO,CACLE,OAAO,CAAED,UAAU,CAACE,IAAI,CAACC,GAAG,CAAEC,IAAI,EAAK,CACrC,MAAO,CACLC,KAAK,IAAAC,MAAA,CAAKF,IAAI,CAACG,QAAQ,MAAAD,MAAA,CAAIF,IAAI,CAACI,SAAS,CAAE,CAC3CC,KAAK,IAAAH,MAAA,CAAKF,IAAI,CAACM,IAAI,OAAAJ,MAAA,CAAKF,IAAI,CAACO,WAAW,CAC1C,CAAC,CACH,CAAC,CACH,CAAC,CACH,CAAC,CAED,KAAM,CAAAC,eAAe,CAAIC,WAAW,EAAK,CACvChB,cAAc,CAACgB,WAAW,CAAC,CAC3BlB,cAAc,CAACkB,WAAW,CAAC,CAC7B,CAAC,CAED,mBACErB,IAAA,CAACH,aAAa,EACZyB,WAAW,CAAC,mBAAmB,CAC/BC,eAAe,CAAE,GAAI,CACrBV,KAAK,CAAET,WAAY,CACnBoB,QAAQ,CAAEJ,eAAgB,CAC1Bd,WAAW,CAAEA,WAAY,CAC1B,CAAC,CAEN,CAAC,CAED,cAAe,CAAAL,MAAM","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}